(function(){"use strict";var e={18:function(e,t,n){var l=n(751),a=n(641),s=n(953),r=n(220);const o={class:"swap swap-rotate"},i=["checked"],c="light",u="dark",d="Raven_is_dark";var h={__name:"ThemeController",setup(e){const t=(0,s.KR)("true"===localStorage.getItem(d)),n=()=>{document.documentElement.setAttribute("data-theme",t.value?u:c),localStorage.setItem(d,`${t.value}`)},l=()=>{t.value=!t.value,n()};return(0,a.sV)((()=>{n()})),(e,n)=>((0,a.uX)(),(0,a.CE)("label",o,[(0,a.Lk)("input",{checked:t.value,onChange:l,type:"checkbox"},null,40,i),n[0]||(n[0]=(0,a.Lk)("i",{class:"px-3 swap-off bi bi-sun"},null,-1)),n[1]||(n[1]=(0,a.Lk)("i",{class:"px-3 swap-on bi bi-moon"},null,-1))]))}};const v=h;var m=v,f=n(33),p=n(278);const g=e=>{let t,n,l;for(l=e.length-1;l>0;l--)t=Math.floor(Math.random()*(l+1)),n=e[l],e[l]=e[t],e[t]=n;return e},b=e=>e[Math.floor(Math.random()*e.length)],w=e=>{if(e.length<3)throw new Error("threeRandomElements: array must have at least 3 elements, got "+JSON.stringify(e));const t=[...e];return g(t),t.slice(0,3)},k=(e,t="matrix.png")=>{const n=document.createElement("a");n.download=t,n.href=e.toDataURL("image/png"),n.click()},C=e=>{e.strokeStyle="#000000",e.fillStyle="#000000",e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalAlpha=1,e.globalCompositeOperation="source-over",e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.font="10px sans-serif",e.textAlign="start",e.textBaseline="alphabetic",e.direction="ltr",e.setLineDash([]),e.lineDashOffset=0};function y(e){let t=e%2147483647;return t<=0&&(t+=2147483646),function(){return t=16807*t%2147483647,(t-1)/2147483646}}const F=(e,t,n,l=!0)=>{const a=t.getFeaturesVariations(),s=Object.keys(a);if(e.length!==s.length)throw new Error(`Expected ${s.length} grids, got ${e.length}`);const r={};for(const u of s)r[u]=w(a[u]);l&&(e=g(e));const o=[];for(let u=0;u<3;u++){o[u]=[];for(let t=0;t<3;t++){const n={index:3*u+t};s.forEach(((l,a)=>{const s=e[a][u][t];n[l]=r[l][s]})),n.isAnswer=!1,o[u][t]=n}}let i=o[Math.floor(3*Math.random())][Math.floor(3*Math.random())];i.isAnswer=!0;const c=x(n,i,r);return{cells:o,answers:c}},x=(e,t,n)=>{let l=[t];const a=()=>({...t,isAnswer:!1}),s=g(Object.keys(n));let r=[];if(s.forEach((e=>{const l=n[e],a=t[e],s=g(l.filter((e=>e!==a)));s.forEach((t=>{r.push([e,t])}))})),r.forEach((e=>{const t=e[0],n=e[1],s=a();s[t]=n,l.push(s)})),l.length>=e||1===s.length)return g(l.splice(0,e));const o=s[0],i=s[1];return n[o].filter((e=>e!==t[o])).forEach((e=>{n[i].filter((e=>e!==t[i])).forEach((t=>{const n=a();n[o]=e,n[i]=t,l.push(n)}))})),l.length>=e||2===s.length?g(l.splice(0,e)):(console.error("Out of answer variations: generated "+l.length+" answers, but max is "+e),g(l))},A=(e=-1)=>(-1===e&&(e=Math.random()>.5),e?[[0,0,0],[1,1,1],[2,2,2]]:[[0,1,2],[0,1,2],[0,1,2]]),L=(e=-1)=>(-1===e&&(e=Math.random()>.5),e?[[0,1,2],[2,0,1],[1,2,0]]:[[0,1,2],[1,2,0],[2,0,1]]),E=()=>[[0,0,0],[0,0,0],[0,0,0]],R=e=>{switch(e){case 1:return[L()];case 2:return[L(),A()];case 3:return Math.random()>.5?[L(),A(0),A(1)]:[L(0),L(1),A()];case 4:return Math.random()>.8?[L(0),L(0),L(1),A()]:Math.random()>.7?[L(0),L(1),L(1),A()]:[L(0),L(1),A(0),A(1)];default:console.error("generateSetOfGridsMaximumDifficulty: Unsupported number of features",e)}},S=(e,t)=>{const n=R(t);for(let l=0;l<e-t;l++)n.push(E());return n};function M(e,t,n,l,a,s=-Math.PI/2){const r=.2*l;l-=r,t+=r/2,n+=r/2;const o=t+l/2,i=n+l/2,c=l/2;for(let u=0;u<a;u++){const t=u*(2*Math.PI/a)+s,n=o+c*Math.cos(t),l=i+c*Math.sin(t);0===u?e.moveTo(n,l):e.lineTo(n,l)}e.closePath()}function D(e,t,n,l){const a=l/6;e.rect(t+a,n+a,l-2*a,l-2*a)}function T(e,t,n,l){const a=t+l/2,s=n+l/2,r=l/3;e.arc(a,s,r,0,2*Math.PI)}const I=[["ðŸŽ","ðŸŒ","ðŸ‡","ðŸŠ","ðŸ‰","ðŸ“","ðŸ’","ðŸ‘","ðŸ","ðŸ¥­","ðŸ","ðŸ","ðŸ‹"],["ðŸ¶","ðŸ±","ðŸ­","ðŸ¹","ðŸ°","ðŸ¦Š","ðŸ»","ðŸ¼","ðŸ¨","ðŸ¯","ðŸ¦","ðŸ®","ðŸ·","ðŸ¸","ðŸµ"],["ðŸ˜€","ðŸ¤£","ðŸ¥°","ðŸ˜","ðŸ˜‹","ðŸ¤«","ðŸ˜Ž","ðŸ˜","ðŸ˜’","ðŸ™„","ðŸ˜¬","ðŸ¤”","ðŸ˜¡","ðŸ‘¿","ðŸ’€","ðŸ’©"],["ðŸš—","ðŸš•","ðŸš™","ðŸšŒ","ðŸšŽ","ðŸš“","ðŸš‘","ðŸš’","ðŸš","ðŸšš","ðŸš›","ðŸšœ","ðŸš²","ðŸ›´","ðŸ›µ","ðŸšƒ","ðŸš‹","ðŸš","ðŸš…","ðŸš‚"],["ðŸ”","ðŸŸ","ðŸ•","ðŸŒ­","ðŸ¥ª","ðŸŒ®","ðŸ¿","ðŸ£","ðŸ°","ðŸ©","ðŸª","ðŸ¦"],["ðŸŒ¸","ðŸŒ»","ðŸ‚","ðŸŒ³","ðŸŒ´","ðŸŒµ","ðŸŒ²","ðŸ„","ðŸŒž","ðŸŒœ","â­","âš¡","ðŸ”¥","ðŸŒˆ","â„ï¸","ðŸ’§","ðŸŒªï¸"],["ðŸ¦‹","ðŸŒ","ðŸ›","ðŸœ","ðŸ","ðŸž","ðŸ•·ï¸","ðŸ•¸ï¸","ðŸ¦‚"]];function _(e,t,n,l,a){switch(t){case"circle":return T(e,n,l,a);case"triangle-r":return M(e,n,l,a,3,0);case"triangle-l":return M(e,n,l,a,3,Math.PI);case"square":return D(e,n,l,a);case"pentagon":return M(e,n,l,a,5);default:console.error("drawShape: Unsupported shape",t)}}const P=()=>b([["#565b63","#00ADB5","#EEEEEE"],["#FFC7C7","#F6F6F6","#8785A2"],["#F38181","#FCE38A","#95E1D3"],["#A8D8EA","#AA96DA","#FCBAD3"],["#3FC1C9","#F5F5F5","#FC5185"]]),V={name:"Fancy Shapes",description:"Shapes in multiple amounts",getFeaturesVariations:()=>({shape:["circle","triangle-r","triangle-l","square","pentagon"],color:P(),amount:[1,2,3]}),drawCell:(e,t,n,l)=>{e.fillStyle=t.color||"gray",e.lineWidth=3,e.strokeStyle="black";const a=.3*n;let s=0,r=0;for(let o=0;o<t.amount;o++)e.beginPath(),_(e,t.shape,s,r,n),e.fill(),e.stroke(),n-=a,s+=a/2,r+=a/2}},B={name:"Emojis",description:"Emojis!",getFeaturesVariations:()=>({emoji:b(I)}),drawCell:(e,t,n,l)=>{e.font=`${Math.floor(.6*n)}px Arial`,e.textAlign="center",e.textBaseline="middle",e.fillText(t.emoji,n/2,n/2)}},O={name:"Gradients",description:"Direction and palette",isArtistic:!0,getFeaturesVariations:()=>({direction:["right","down","diag1","diag2"],palette:[["#FCC737","#F26B0F","#E73879","#7E1891"],["#C96868","#FADFA1","#FFF4EA","#7EACB5"],["#59D5E0","#F5DD61","#FAA300","#F4538A"],["#F8F5E9","#9DC08B","#3A7D44","#DF6D14"]]}),drawCell:(e,t,n,l)=>{const a={right:[0,0,0+n,0],down:[0,0,0,0+n],diag1:[0,0,0+n,0+n],diag2:[0+n,0,0,0+n]},s=e.createLinearGradient(...a[t.direction]);for(let r=0;r<t.palette.length;r++)s.addColorStop(r/t.palette.length,t.palette[r]);e.fillStyle=s,e.fillRect(0,0,n,n)}};function z(e,t,n,l,a){switch(t){case"circle":return T(e,n,l,a);case"triangle":return K(e,n,l,a);case"square":return D(e,n,l,a);case"pentagon":return M(e,n,l,a,5,-Math.PI/2);default:console.error("drawShape: Unsupported shape",t)}}function K(e,t,n,l){e.moveTo(t+l/2,n+l/6),e.lineTo(t+l/6,n+5*l/6),e.lineTo(t+5*l/6,n+5*l/6),e.closePath()}const j=()=>b([["#393E46","#00ADB5","#EEEEEE"],["#FFC7C7","#F6F6F6","#8785A2"],["#F38181","#FCE38A","#95E1D3"],["#A8D8EA","#AA96DA","#FCBAD3"],["#3FC1C9","#F5F5F5","#FC5185"]]),W={name:"Shapes",description:"Simple colored shapes (circle, triangle etc.)",getFeaturesVariations:()=>({shape:["circle","triangle","square","pentagon"],color:j()}),drawCell:(e,t,n,l)=>{e.fillStyle=t.color||"gray",e.lineWidth=3,e.strokeStyle="black",e.beginPath(),z(e,t.shape,0,0,n),e.fill(),e.stroke()}},$={name:"Color Wheel",description:"HSL colors and thickness",isArtistic:!0,getFeaturesVariations:()=>({thickness:[.15,.3,.5],slices:[8,20,50],hueShift:[0,90,180,270]}),drawCell:(e,t,n,l)=>{U(e,n/2,n/2,.9*n,.9*n*t.thickness,t.slices,t.hueShift)}};function X(e,t,n,l,a=-Math.PI/2){const s=[];for(let r=0;r<l;r++){const o=r*(2*Math.PI/l)+a,i=e+n*Math.cos(o),c=t+n*Math.sin(o);s.push({x:i,y:c})}return s}function U(e,t,n,l,a,s,r){const o=l/2,i=o-a,c=X(t,n,o,s),u=X(t,n,i,s);for(let d=0;d<s;d++){const t=(d+1)%s,n=c[d],l=c[t],a=u[t],o=u[d];e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(l.x,l.y),e.lineTo(a.x,a.y),e.lineTo(o.x,o.y),e.closePath();const i=200*d/s+r;e.fillStyle=`hsl(${i}, 100%, 50%)`,e.fill()}}const q={name:"Columns of Circles",description:"Circles arranged in columns",isArtistic:!0,getFeaturesVariations:()=>({numColumns:[4,8,14],verticalDistance:[.2,.7,1]}),drawCell:(e,t,n,l)=>{J(e,n,t.numColumns,t.verticalDistance,l)}};function J(e,t,n,l,a){e.canvas.width=t,e.canvas.height=t;const s=t/(2*n),r=2*s,o=r*l,i=60;for(let c=0;c<n;c++){const n=Math.ceil(a()*(360-i)),l=c%2===0;let u=s*(2*c+1),d=l?-r:t+r,h=a()>=.5;while(l?d<t+r:d>-r){e.beginPath(),e.arc(u,d,s,0,2*Math.PI);let t=Math.floor(n+a()*i);h&&(t=(t+180)%360),h=!h,e.fillStyle=`hsl(${t}, 90%, 50%)`,e.fill(),e.closePath(),d+=l?o:-o}}}const G={name:"Tiled Lines",description:"Zig-zag pattern of lines",isArtistic:!0,getFeaturesVariations:()=>({stepFactor:[.1,.2,.4],lineWidthFactor:[.005,.02,.05]}),drawCell:(e,t,n,l)=>{const a=n*t.lineWidthFactor;N(e,n,t.stepFactor,a,l)}};function N(e,t,n,l,a){e.beginPath();const s=t*n;function r(t,n,l,s){const r=a()>=.5;r?(e.moveTo(t,n),e.lineTo(t+l,n+s)):(e.moveTo(t+l,n),e.lineTo(t,n+s))}e.lineWidth=l,e.lineCap="square",e.strokeStyle="#000000";for(var o=0;o<t;o+=s)for(var i=0;i<t;i+=s)r(o,i,s,s);e.stroke()}const H={name:"One to three emoji",description:"One, two or three emoji in a row",isArtistic:!1,getFeaturesVariations:()=>({numEmoji:[1,2,3],symbol:b(I)}),drawCell:(e,t,n,l)=>{const a=n/2,s=n/2,r=.3*n;if(e.textAlign="center",e.textBaseline="middle",e.font=`${r}px sans-serif`,1===t.numEmoji)e.fillText(t.symbol,a,s);else if(2===t.numEmoji){const l=.17*n;e.fillText(t.symbol,a-l,s),e.fillText(t.symbol,a+l,s)}else if(3===t.numEmoji){const l=.32*n;e.fillText(t.symbol,a-l,s),e.fillText(t.symbol,a,s),e.fillText(t.symbol,a+l,s)}}},Q={name:"Concentric Circles",description:"Amount and palette",isArtistic:!1,getFeaturesVariations:()=>({numCircles:[1,2,3],palette:[["#FF8225","#AF5205"],["#0F4C75","#3282B8"],["#FEBA17","#74512D"],["#8E1616","#AE445A"],["#626F47","#A4B465"]]}),drawCell:(e,t,n,l)=>{const a=.05*n,s=.01*n,r=(n/2-a)/t.numCircles;e.lineWidth=s,e.strokeStyle="#fff";for(let o=0;o<t.numCircles;o++){const l=n/2-a-o*r+s/2;e.fillStyle=t.palette[o%t.palette.length],e.beginPath(),e.arc(n/2,n/2,l,0,2*Math.PI),e.fill(),e.stroke()}}},Y={name:"Rect",description:"white rectangle with random aspectâ€‘ratio & border style",isArtistic:!1,getFeaturesVariations:()=>({aspectRatio:[1/3,1,3],borderStyle:["thin","midâ€‘dashed","thick"]}),drawCell:(e,t,n,l)=>{const a=.12,s=.012,r=.03,o=.06,i=a*n,c="thin"===t.borderStyle?s*n:"midâ€‘dashed"===t.borderStyle?r*n:o*n,u=n-2*(i+c/2),d=t.aspectRatio,h=d>=1?u:u*d,v=d>=1?u/d:u,m=(n-h)/2,f=(n-v)/2,p=e.createRadialGradient(m+h/2,f+v/2,0,m+h/2,f+v/2,Math.max(h,v)/2);p.addColorStop(0,"#ffffff"),p.addColorStop(1,"#dadada"),e.fillStyle=p,e.strokeStyle="#000000",e.lineWidth=c,e.setLineDash("midâ€‘dashed"===t.borderStyle?[2*c,2*c]:[]),e.fillRect(m,f,h,v),e.strokeRect(m,f,h,v)}},Z={name:"Quadrilateral",description:"Draws a square or trapezoid with a blue gradient fill. Features: shape, gradient direction, color pair.",isArtistic:!1,getFeaturesVariations:()=>({shape:["t","s","b"],direction:["lr","tb","radial"],colors:[["#FF0055","#00FFD5"],["#FF9900","#0033FF"],["#00FF66","#FF00FF"],["#FFFF00","#9900FF"],["#FF4444","#00AAFF"]]}),drawCell:(e,t,n,l)=>{const a=.02*n,s=.1*n,r=.15*n;let o;e.clearRect(0,0,n,n),e.lineWidth=a,e.strokeStyle=t.colors[1],o="s"===t.shape?[{x:s,y:s},{x:n-s,y:s},{x:n-s,y:n-s},{x:s,y:n-s}]:"t"===t.shape?[{x:s+r,y:s},{x:n-s-r,y:s},{x:n-s,y:n-s},{x:s,y:n-s}]:[{x:s,y:s},{x:n-s,y:s},{x:n-s-r,y:n-s},{x:s+r,y:n-s}];const[i,c]=t.colors;let u;u="lr"===t.direction?e.createLinearGradient(s,n/2,n-s,n/2):"tb"===t.direction?e.createLinearGradient(n/2,s,n/2,n-s):e.createRadialGradient(n/2,n/2,0,n/2,n/2,n-4*s),u.addColorStop(0,i),u.addColorStop(1,c),e.fillStyle=u,e.beginPath(),e.moveTo(o[0].x,o[0].y),o.slice(1).forEach((t=>e.lineTo(t.x,t.y))),e.closePath(),e.fill(),e.stroke()}};var ee=n(140);const te={name:"TwoCircles",description:"Two pastel-colored circles with varying relative distance and size",isArtistic:!1,getFeaturesVariations:()=>({distanceMode:["intersect","touch","apart"],color:["#D33F49","#D7C0D0","#77BA99"],colorDistributionRule:["same","lighter","darker"]}),drawCell:(e,t,n,l)=>{const a=.02*n,s=.18*n,r=n/2,o=n/2;let i;switch(t.distanceMode){case"intersect":i=1.2*s;break;case"touch":i=2*s;break;case"apart":i=3*s;break}const c=r-i/2,u=r+i/2;let d=(0,ee.A)(t.color);const h=d.brighten(.2).toString();let v;switch(t.colorDistributionRule){case"lighter":v=d.lighten(30).toString();break;case"darker":v=d.darken(30).toString();break;default:v=d.toString();break}e.clearRect(0,0,n,n),e.lineWidth=a,e.strokeStyle=d.darken(40).toString(),e.beginPath(),e.arc(c,o,s,0,2*Math.PI),e.fillStyle=h,e.fill(),e.stroke(),e.beginPath(),e.arc(u,o,s,0,2*Math.PI),e.fillStyle=v,e.fill(),e.stroke()}},ne={name:"SpiderWeb",description:"Radial spider-web with varied branch count and web density",isArtistic:!0,getFeaturesVariations:()=>({numberOfMainBranches:[4,7,17],ringSpacingFactor:[.05,.2,.5]}),drawCell(e,t,n,l){const a=.5*n,s=.3*-n,r=a-s;e.strokeStyle="#000000";const o=t.numberOfMainBranches,i=t.ringSpacingFactor*n,c=2*Math.PI/o,u=l()*Math.PI*2;e.clearRect(0,0,n,n),e.lineWidth=.002*n;for(let d=0;d<o;d++){const t=u+d*c,n=Math.cos(t),l=Math.sin(t);e.beginPath(),e.moveTo(a,a),e.lineTo(a+n*r,a+l*r),e.stroke()}e.lineWidth=.003*n;for(let d=i;d<r;d+=i)for(let t=0;t<o;t++){const n=u+t*c,l=n+c;e.beginPath(),e.moveTo(a+Math.cos(n)*d,a+Math.sin(n)*d),e.quadraticCurveTo(a,a,a+Math.cos(l)*d,a+Math.sin(l)*d),e.stroke()}}},le=[V,B,O,W,q,$,G,H,Q,Y,Z,te,ne],ae=(e,t)=>{const n=e.filter((e=>Object.keys(e.getFeaturesVariations()).length>=t));if(0===n.length){e.map((e=>e.name+" ("+Object.keys(e.getFeaturesVariations()).length+")")).join(", ");return null}const l=Math.floor(Math.random()*n.length);return n[l]},se=(0,p.y$)({strict:!0,state(){return{difficulty:2,selectedFlavors:[...le].filter((e=>!e.isArtistic)),flavor:null,cellsAndAnswers:null,numAnswers:8,randomSeed:1,selectedAnswerIndex:null,isAnswerRevealed:!1}},getters:{cells(e){return e.cellsAndAnswers?.cells||[]},answers(e){return e.cellsAndAnswers?.answers||[]},drawCell(e){return e.flavor?.drawCell},correctAnswerIndex(e){return e.cellsAndAnswers?.answers.findIndex((e=>e.isAnswer))??-1},isAnswerCorrect(e,t){return null!=e.selectedAnswerIndex&&e.selectedAnswerIndex===t.correctAnswerIndex},randomSeed(e){return e.randomSeed}},mutations:{generate(e){if(e.selectedAnswerIndex=null,e.isAnswerRevealed=!1,e.randomSeed++,e.flavor=ae(e.selectedFlavors,e.difficulty),!e.flavor)return void(e.cellsAndAnswers=null);const t=Object.keys(e.flavor.getFeaturesVariations()).length,n=S(t,e.difficulty);e.cellsAndAnswers=F(n,e.flavor,e.numAnswers,!1)},selectAnswer(e,t){e.selectedAnswerIndex=t,e.isAnswerRevealed=!0},setDifficulty(e,t){e.difficulty=t},selectAllFlavors(e){e.selectedFlavors=[...le]},selectNoFlavors(e){e.selectedFlavors=[]},toggleFlavor(e,t){const n=e.selectedFlavors.indexOf(t);n>-1?e.selectedFlavors.splice(n,1):e.selectedFlavors.push(t)}},actions:{}}),re={class:"flex items-center space-x-2"},oe={class:"label-text"},ie=4;var ce={__name:"DifficultyInput",setup(e){const t=()=>{se.state.difficulty<=1||(se.commit("setDifficulty",se.state.difficulty-1),se.commit("generate"))},n=()=>{se.state.difficulty>=ie||(se.commit("setDifficulty",se.state.difficulty+1),se.commit("generate"))};return(e,l)=>((0,a.uX)(),(0,a.CE)("div",re,[(0,a.Lk)("button",{class:"btn btn-sm",onClick:t},"-"),(0,a.Lk)("span",oe,"Level "+(0,f.v_)((0,s.R1)(se).state.difficulty),1),(0,a.Lk)("button",{class:"btn btn-sm",onClick:n},"+")]))}};const ue=ce;var de=ue;const he={method:"dialog",class:"modal-box"},ve={class:"flex gap-2 mb-4"},me={class:"flex items-center gap-2 cursor-pointer"},fe=["checked","onChange"],pe=["onClick"];var ge={__name:"FlavorSelector",setup(e){const t=(0,p.Pj)(),n=(0,s.KR)(null);function r(){n.value?.showModal()}function o(){n.value?.close(),t.commit("generate")}function i(e){return t.state.selectedFlavors.includes(e)}function c(e){t.commit("toggleFlavor",e)}function u(){t.commit("selectAllFlavors")}function d(){t.commit("selectNoFlavors")}function h(e){t.commit("selectNoFlavors"),t.commit("toggleFlavor",e),o()}const v=(0,a.EW)((()=>le));function m(e){return Object.keys(e.getFeaturesVariations()).length}function g(e){const t=m(e);return 1===t?"badge badge-success":2===t?"badge badge-warning":3===t?"badge bg-orange-500 text-white":"badge badge-error"}return(e,t)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("button",{class:"btn btn-sm mx-2",onClick:r,title:"Select Flavors"},t[0]||(t[0]=[(0,a.Lk)("i",{class:"bi bi-card-checklist"},null,-1)])),(0,a.Lk)("dialog",{ref_key:"flavorDialog",ref:n,class:"modal"},[(0,a.Lk)("form",he,[t[1]||(t[1]=(0,a.Lk)("h3",{class:"text-lg font-bold mb-4"},"Select Flavors",-1)),(0,a.Lk)("div",ve,[(0,a.Lk)("button",{class:"btn btn-sm",type:"button",onClick:(0,l.D$)(u,["stop","prevent"])},"All"),(0,a.Lk)("button",{class:"btn btn-sm",type:"button",onClick:(0,l.D$)(d,["stop","prevent"])},"None")]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.value,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.name,class:"flex items-center gap-2 mb-2"},[(0,a.Lk)("label",me,[(0,a.Lk)("input",{type:"checkbox",class:"checkbox",checked:i(e),onChange:t=>c(e)},null,40,fe),(0,a.Lk)("span",null,(0,f.v_)(e.name),1),(0,a.Lk)("span",{class:(0,f.C4)(g(e))},(0,f.v_)(m(e)),3)]),(0,a.Lk)("button",{class:"btn btn-xs btn-link",type:"button",onClick:(0,l.D$)((t=>h(e)),["stop","prevent"])}," only ",8,pe)])))),128)),(0,a.Lk)("div",{class:"modal-action"},[(0,a.Lk)("button",{class:"btn",type:"submit",onClick:o},"Close")])])],512)],64))}};const be=ge;var we=be;const ke={class:"navbar bg-base-100"},Ce={class:"flex-1"},ye={class:"flex-none"};var Fe={__name:"Navbar",setup(e){const t=(0,r.rd)();return(e,n)=>((0,a.uX)(),(0,a.CE)("div",ke,[(0,a.Lk)("div",Ce,[(0,a.Lk)("a",{class:"btn btn-ghost text-xl",onClick:n[0]||(n[0]=e=>(0,s.R1)(t).push("/"))},"Raven")]),(0,a.Lk)("div",ye,[(0,a.bF)(we),(0,a.bF)(de),(0,a.bF)(m)])]))}};const xe=Fe;var Ae=xe,Le={__name:"App",setup(e){return(e,t)=>{const n=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(Ae),(0,a.bF)(n)],64)}}};const Ee=Le;var Re=Ee;const Se=(e,t,n,l,a,s,r,o,i="000000")=>{if(C(e),!a||0===a.length||!s)return;e.strokeStyle=`#${i}55`,e.lineWidth=1,e.strokeRect(t,n,l,l);const c=l/3,u=document.createElement("canvas");u.width=c,u.height=c;const d=u.getContext("2d");for(let h=0;h<3;h++)for(let l=0;l<3;l++){const v=a[h][l],m=r+v.index,f=t+l*c,p=n+h*c;if(e.strokeStyle=`#${i}33`,e.lineWidth=1,e.strokeRect(f,p,c,c),d.clearRect(0,0,c,c),v.isAnswer&&"q"===o?Me(d,0,0,c):s(d,v,c,y(m)),e.drawImage(u,f,p),v.isAnswer&&"r"===o){const t=1;e.strokeStyle=`#${i}`,e.lineWidth=t,e.strokeRect(f+t,p+t,c-2*t,c-2*t)}}},Me=(e,t,n,l)=>{e.fillStyle="#333333",e.font=`${Math.floor(.6*l)}px Arial`,e.textAlign="center",e.textBaseline="middle",e.fillText("?",t+l/2,n+l/2)},De={key:0,class:"flex flex-col items-center"},Te={key:1,class:"flex flex-col items-center"},Ie=["width","height"],_e={class:"divider text-neutral-500 my-6"},Pe={class:"grid grid-cols-4 gap-2"},Ve=["id","width","height","onClick"],Be={key:0,class:"flex flex-col items-center mt-4 text-center text-neutral-500"};var Oe={__name:"Game",setup(e){const t=(0,s.KR)(500),n=(0,s.KR)(null),l=(0,s.KR)(!0),r=(0,s.KR)(100),o=()=>{se.state.cellsAndAnswers&&se.state.cellsAndAnswers.cells&&(i(),c())},i=()=>{if(!l.value)return void console.log("drawPuzzle: not alive");if(!n.value||!se.state.cellsAndAnswers)return console.log("drawPuzzle: puzzleCanvas.value is null"),void setTimeout(i,1);const e=n.value.getContext("2d");e.clearRect(0,0,t.value,t.value);const a=se.getters.cells;Se(e,0,0,t.value,a,se.getters.drawCell,se.state.randomSeed,se.state.isAnswerRevealed?"r":"q")},c=()=>{if(l.value){for(let e=0;e<se.getters.answers.length;e++)if(!document.getElementById(`answerCanvas${e}`))return console.log("set timeout to draw all answers"),void setTimeout(c,1);se.getters.answers.forEach(((e,t)=>{const n=document.getElementById(`answerCanvas${t}`);if(!n)return;const l=n.getContext("2d");C(l),l.clearRect(0,0,r.value,r.value),se.getters.drawCell(l,e,r.value,y(se.state.randomSeed+e.index))}))}else console.log("drawAllAnswers: not alive")},u=e=>{se.state.isAnswerRevealed&&se.getters.correctAnswerIndex===e?se.commit("generate"):se.state.isAnswerRevealed||se.commit("selectAnswer",e)},d=()=>{t.value=Math.round(.7*Math.min(window.innerWidth,window.innerHeight)),r.value=Math.round(.3*t.value)},h=e=>{if(!se.state.isAnswerRevealed)return"border-gray-500 border-dashed";const t=se.getters.correctAnswerIndex,n=se.state.selectedAnswerIndex;if(e===t){const e=n===t?"animate__animated animate__pulse animate__faster":"";return"outline outline-green-500 outline-2 border-transparent "+e}return e===n&&n!==t?"outline outline-red-500 outline-2 border-transparent animate__animated animate__headShake":"opacity-25 border-gray-300 border-dashed"},v=(0,a.EW)((()=>se.state.isAnswerRevealed?se.getters.correctAnswerIndex===se.state.selectedAnswerIndex?b(["nice!","great!","awesome!","well done!","keep it up!","fantastic!","brilliant!","excellent!"]):b(["oops","uh-oh","nope","nah","ouch","hmm","meh","whoops"]):"which completes the pattern?"));(0,a.sV)((()=>{d(),window.addEventListener("resize",(()=>{d(),setTimeout(o,1)})),se.commit("generate"),(0,a.wB)((()=>se.state.cellsAndAnswers),o,{deep:!0,immediate:!0}),(0,a.wB)((()=>se.state.isAnswerRevealed),o,{immediate:!0}),setTimeout(o,1)})),(0,a.xo)((()=>{window.removeEventListener("resize",d),n.value=null}));const m=()=>{se.state.isAnswerRevealed&&se.commit("generate")};return(e,l)=>(0,s.R1)(se).state.cellsAndAnswers&&(0,s.R1)(se).state.cellsAndAnswers.cells?((0,a.uX)(),(0,a.CE)("div",Te,[(0,a.Lk)("canvas",{ref_key:"puzzleCanvas",ref:n,width:t.value,height:t.value,class:"border border-gray-400",onClick:m,style:(0,f.Tr)({cursor:(0,s.R1)(se).state.isAnswerRevealed?"pointer":"default"})},null,12,Ie),(0,a.Lk)("div",_e,(0,f.v_)(v.value),1),(0,a.Lk)("div",Pe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,s.R1)(se).getters.answers,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},[(0,a.Lk)("canvas",{id:`answerCanvas${t}`,width:r.value,height:r.value,onClick:e=>u(t),class:(0,f.C4)(["cursor-pointer border rounded-lg box-border",h(t)])},null,10,Ve)])))),128))]),(0,s.R1)(se).state.isAnswerRevealed?((0,a.uX)(),(0,a.CE)("div",Be,[(0,a.Lk)("button",{class:"btn btn-primary btn-lg",onClick:l[0]||(l[0]=e=>(0,s.R1)(se).commit("generate"))},"Next Puzzle")])):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("div",De," Can't generate a puzzle with current settings "))}};const ze=Oe;var Ke=ze;const je=["width","height"],We={class:"grid grid-cols-4 gap-2"},$e=["id","width","height"],Xe=16;var Ue={__name:"FlavorDesign",setup(e){const t=Q,n=Object.keys(t.getFeaturesVariations()).length,l=(0,s.KR)(100),r=(0,s.KR)(null),o=(0,s.KR)(null),i=(0,s.KR)(1),c=()=>{i.value++,d(),o.value=F(R(n),t,Xe),setTimeout(u,1)},u=()=>{console.log("cellsAndAnswers.value.answers",o.value.answers),o.value.answers.forEach(((e,n)=>{const a=document.getElementById(`answerCanvas${n}`);if(!a)return;const s=a.getContext("2d");s.clearRect(0,0,l.value,l.value),t.drawCell(s,e,l.value,y(i.value))}));const e=3*l.value,n=r.value.getContext("2d");n.clearRect(0,0,e,e),Se(n,0,0,e,o.value.cells,t.drawCell,i.value,"r")},d=()=>{const e=Math.round(Math.min(window.innerWidth,window.innerHeight));l.value=Math.round(.22*e)};return(0,a.sV)((()=>{setTimeout(c,100)})),(e,n)=>((0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",null,[(0,a.Lk)("button",{class:"btn btn-primary",onClick:c},"New '"+(0,f.v_)((0,s.R1)(t).name)+"'",1)]),(0,a.Lk)("div",null,[(0,a.Lk)("canvas",{ref_key:"puzzleCanvas",ref:r,width:3*l.value,height:3*l.value,class:"border border-dashed"},null,8,je)]),(0,a.Lk)("div",We,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.value?.answers||[],((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t},[(0,a.Lk)("canvas",{id:`answerCanvas${t}`,width:l.value,height:l.value,class:"border"},null,8,$e)])))),128))])],64))}};const qe=Ue;var Je=qe;const Ge={class:"p-2"},Ne={class:"flex gap-2 flex-wrap mb-2 items-center"},He=["width","height"],Qe={class:"mt-4 p-2 border border-gray-300 rounded"},Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ze={class:"block font-semibold mb-1"},et={class:"block font-semibold mb-1"},tt={class:"block font-semibold mb-1"},nt={class:"block font-semibold mb-1"},lt={class:"block font-semibold mb-1"},at={class:"block font-semibold mb-1"},st={class:"block font-semibold mt-2"},rt={class:"block font-semibold mb-1"};var ot={__name:"Wallpaper",setup(e){const t=B;function n(e,t,n,l,a,s){const r=Math.min(s,Math.min(l,a)/2);e.beginPath(),e.moveTo(t+r,n),e.lineTo(t+l-r,n),e.quadraticCurveTo(t+l,n,t+l,n+r),e.lineTo(t+l,n+a-r),e.quadraticCurveTo(t+l,n+a,t+l-r,n+a),e.lineTo(t+r,n+a),e.quadraticCurveTo(t,n+a,t,n+a-r),e.lineTo(t,n+r),e.quadraticCurveTo(t,n,t+r,n),e.closePath()}const r=(0,s.KR)("1920x1080"),o=(0,s.KR)(1920),i=(0,s.KR)(1080),c=(0,s.KR)(.7),u=(0,s.KR)(.06),d=(0,s.KR)(-.045),h=(0,s.KR)(100),v=(0,s.KR)(20),m=(0,s.KR)(.16),p=(0,s.KR)("#ffffff"),w=(0,s.KR)(.4),C=(0,s.KR)(.04),x=(0,s.KR)(10),A=(0,s.KR)(null),L=(0,s.KR)(null);let S=999;function M(){const[e,t]=r.value.split("x").map(Number);o.value=e,i.value=t,T()}function D(){S+=17+Math.floor(50*Math.random());const e=Object.keys(t.getFeaturesVariations()).length;let n=g(R(1));while(n.length<e)n.push(E());const l=3;A.value=F(n,t,l,!1),T()}function T(){const e=L.value;if(!e||!A.value)return;e.width=o.value,e.height=i.value;const l=e.getContext("2d");l.clearRect(0,0,e.width,e.height);const a=[["#1A1A1D","#3B1C32","#6A1E55"],["#09122C","#872341","#BE3144"],["#1A3636","#40534C","#677D6A"],["#1B262C","#0F4C75","#3282B8"],["#17153B","#2E236C","#433D8B"]],s=(b(a),e.height*c.value),r=s*u.value,h=(e.width-s)/2,v=(e.height-s)/2+d.value*e.height;l.fillStyle=(0,ee.A)(p.value).setAlpha(w.value).toString(),n(l,h-r,v-r,s+2*r,s+2*r,s*C.value),l.fill(),Se(l,h,v,s,A.value.cells,t.drawCell,S,"q"),I(l,A.value.answers)}function I(e,l){if(!l||!l.length)return;const a=l.length*h.value+(l.length-1)*v.value,s=(e.canvas.width-a)/2,r=e.canvas.height-h.value-50;for(let o=0;o<l.length;o++){const a=s+o*(h.value+v.value);e.save(),e.fillStyle=`rgba(255,255,255,${w.value})`,n(e,a,r,h.value,h.value,h.value*m.value),e.fill(),e.restore();const i=document.createElement("canvas");i.width=h.value,i.height=h.value;const c=i.getContext("2d"),u=y(S+o);t.drawCell(c,l[o],h.value,u),e.drawImage(i,a,r)}}function _(){k(L.value,"wallpaper.png")}function P(){const e=A.value,t=Math.max(1,Math.min(100,Math.floor(x.value||1)));for(let n=1;n<=t;n++){D();const e=`wallpaper_${String(n).padStart(3,"0")}.png`;k(L.value,e)}A.value=e,T()}return(0,a.sV)((()=>{D()})),(e,t)=>((0,a.uX)(),(0,a.CE)("div",Ge,[(0,a.Lk)("div",Ne,[(0,a.Lk)("button",{class:"btn btn-primary",onClick:D},"Reâ€‘generate"),(0,a.Lk)("button",{class:"btn btn-secondary",onClick:_},"Download PNG"),(0,a.Lk)("button",{class:"btn btn-accent",onClick:P},"Download bulk"),(0,a.bo)((0,a.Lk)("input",{type:"number",class:"input input-bordered w-20","onUpdate:modelValue":t[0]||(t[0]=e=>x.value=e),min:1,max:100},null,512),[[l.Jo,x.value,void 0,{number:!0}]])]),(0,a.Lk)("canvas",{ref_key:"canvasRef",ref:L,width:o.value,height:i.value,style:{border:"1px solid #444","max-width":"100%"}},null,8,He),(0,a.Lk)("div",Qe,[t[14]||(t[14]=(0,a.Lk)("h2",{class:"text-xl font-bold mb-4"},"Wallpaper Settings",-1)),(0,a.Lk)("div",Ye,[(0,a.Lk)("div",null,[t[12]||(t[12]=(0,a.Lk)("label",{class:"block font-semibold mb-1"},"Canvas Dimensions",-1)),(0,a.bo)((0,a.Lk)("select",{class:"select select-bordered","onUpdate:modelValue":t[1]||(t[1]=e=>r.value=e),onChange:M},t[11]||(t[11]=[(0,a.Fv)('<option value="1920x1080">1920 Ã— 1080</option><option value="2560x1440">2560 Ã— 1440</option><option value="1280x720">1280 Ã— 720</option><option value="1080x1920">1080 Ã— 1920</option><option value="720x1280">720 Ã— 1280</option><option value="1440x2560">1440 Ã— 2560</option>',6)]),544),[[l.u1,r.value]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",Ze,"Puzzle Size Ratio: "+(0,f.v_)(c.value),1),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"0.1",max:"1",step:"0.05","onUpdate:modelValue":t[2]||(t[2]=e=>c.value=e),class:"range",onInput:T},null,544),[[l.Jo,c.value,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",et,"Puzzle Margin Ratio: "+(0,f.v_)(u.value),1),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"0",max:"0.3",step:"0.01","onUpdate:modelValue":t[3]||(t[3]=e=>u.value=e),class:"range",onInput:T},null,544),[[l.Jo,u.value,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",tt," Puzzle Y Offset "+(0,f.v_)(Math.round(d.value*i.value))+" px ",1),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"-0.5",max:"0.5",step:"0.01","onUpdate:modelValue":t[4]||(t[4]=e=>d.value=e),class:"range",onInput:T},null,544),[[l.Jo,d.value,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",nt,"Answer Cell Size "+(0,f.v_)(h.value)+" px",1),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"10",max:"300",step:"1","onUpdate:modelValue":t[5]||(t[5]=e=>h.value=e),class:"range",onInput:T},null,544),[[l.Jo,h.value,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",lt,"Answer Cell Gap "+(0,f.v_)(v.value)+" px",1),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"0",max:"50",step:"1","onUpdate:modelValue":t[6]||(t[6]=e=>v.value=e),class:"range",onInput:T},null,544),[[l.Jo,v.value,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",at," Answer Cell Roundness: "+(0,f.v_)((100*m.value).toFixed(0))+" % ",1),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"0",max:"0.5",step:"0.01","onUpdate:modelValue":t[7]||(t[7]=e=>m.value=e),class:"range",onInput:T},null,544),[[l.Jo,m.value,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[t[13]||(t[13]=(0,a.Lk)("label",{class:"block font-semibold mb-1"},"Puzzle Border Color",-1)),(0,a.bo)((0,a.Lk)("input",{type:"color",class:"input input-bordered w-full","onUpdate:modelValue":t[8]||(t[8]=e=>p.value=e),onInput:T},null,544),[[l.Jo,p.value]]),(0,a.Lk)("label",st,"Border Alpha: "+(0,f.v_)(w.value),1),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"0",max:"1",step:"0.05","onUpdate:modelValue":t[9]||(t[9]=e=>w.value=e),class:"range",onInput:T},null,544),[[l.Jo,w.value,void 0,{number:!0}]])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",rt," Puzzle Border Roundness "+(0,f.v_)((100*C.value).toFixed(1))+" % ",1),(0,a.bo)((0,a.Lk)("input",{type:"range",min:"0",max:"0.2",step:"0.005","onUpdate:modelValue":t[10]||(t[10]=e=>C.value=e),class:"range",onInput:T},null,544),[[l.Jo,C.value,void 0,{number:!0}]])])])])]))}};const it=ot;var ct=it;const ut=[{path:"/",name:"home",component:Ke},{path:"/game",name:"game",component:Ke},{path:"/designer",name:"designer",component:Je},{path:"/wallpaper",name:"wallpaper",component:ct}],dt=(0,r.aE)({history:(0,r.Bt)(),routes:ut});var ht=dt;(0,l.Ef)(Re).use(ht).use(se).mount("#app")}},t={};function n(l){var a=t[l];if(void 0!==a)return a.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,l,a,s){if(!l){var r=1/0;for(u=0;u<e.length;u++){l=e[u][0],a=e[u][1],s=e[u][2];for(var o=!0,i=0;i<l.length;i++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](l[i])}))?l.splice(i--,1):(o=!1,s<r&&(r=s));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[l,a,s]}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,s,r=l[0],o=l[1],i=l[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(i)var u=i(n)}for(t&&t(l);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},l=self["webpackChunkraven"]=self["webpackChunkraven"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(18)}));l=n.O(l)})();
//# sourceMappingURL=app.7bb2ed08.js.map